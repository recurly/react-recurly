var w=Object.defineProperty;var E=(a,r,e)=>r in a?w(a,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[r]=e;var i=(a,r,e)=>(E(a,typeof r!="symbol"?r+"":r,e),e);import{j as f}from"./jsx-runtime-bc5d6cf6.js";import{R as u}from"./index-c013ead5.js";import{P as t}from"./index-2baff29e.js";const T="2.0.1",v=u.createContext({recurly:null}),{Provider:S}=v,g=class extends u.Component{constructor(r){if(super(r),!(this.props.publicKey||this.props.hostname))throw new Error(`
        Please pass your 'publicKey' value to this RecurlyProvider.
        Example: <RecurlyProvider publicKey="MY_PUBLIC_KEY">
      `);if(!window.recurly||!window.recurly.Recurly)throw new Error(`
        Please load Recurly.js (https://js.recurly.com/v4/recurly.js) on this page prior to
        loading your React application.
      `);const{children:e,...n}=this.props;this._recurly=I(n),!g.hasReportedInitialization&&this._recurly.report&&(this._recurly.ready(()=>{this._recurly.report("react-recurly",{version:T})}),g.hasReportedInitialization=!0)}render(){return f(S,{value:{recurly:this._recurly},children:this.props.children})}};let l=g;i(l,"propTypes",{publicKey:t.string,hostname:t.string,currency:t.string,required:t.arrayOf(t.string),timeout:t.number,fraud:t.shape({kount:t.shape({dataCollector:t.bool}),braintree:t.shape({deviceData:t.string}),litle:t.shape({sessionId:t.string})})}),i(l,"defaultProps",{publicKey:""});function I(a){let r=window.recurly.Recurly.__instanceCache=window.recurly.Recurly.__instanceCache||{};const e=JSON.stringify(a),n=r[e]||new window.recurly.Recurly;return n.configure(a),r[e]=n,n}l.__docgenInfo={description:"This is the top-level component for `react-recurly`, and must wrap any other\n`react-recurly` component you will use. It is responsible for creating a `Recurly.js`\ninstance for any descendant components to interact with.\n\nThis component accepts your `publicKey` and other configuration options for Recurly.js as props.",methods:[],displayName:"RecurlyProvider",props:{publicKey:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:`Your Recurly public key. See
[API Access](https://app.recurly.com/go/developer/api_access).`},hostname:{type:{name:"string"},required:!1,description:"Register the current hostname"},currency:{type:{name:"string"},required:!1,description:"Sets a default currency"},required:{type:{name:"arrayOf",value:{name:"string"}},required:!1,description:"Adds additional field requirements for tokenization. ex: ['cvv']"},timeout:{type:{name:"number"},required:!1,description:"API request timeout in ms"},fraud:{type:{name:"shape",value:{kount:{name:"shape",value:{dataCollector:{name:"bool",required:!1}},required:!1},braintree:{name:"shape",value:{deviceData:{name:"string",required:!1}},required:!1},litle:{name:"shape",value:{sessionId:{name:"string",required:!1}},required:!1}}},required:!1,description:`Fraud configuration. See the
[Recurly-js docs on fraud configuration](https://developers.recurly.com/reference/recurly-js/index.html#fraud)`}}};const R=u.createContext(),{Provider:N}=R;class d extends u.Component{constructor(r,e){if(super(r,e),!e||!e.recurly)throw new Error("<Elements> must be within a <RecurlyProvider> tree.");this._elements=this.context.recurly.Elements(),this._elements.on("submit",n=>this.props.onSubmit(n))}render(){const r=this._elements;return f(N,{value:{elements:r},children:this.props.children})}}i(d,"propTypes",{onSubmit:t.func}),i(d,"defaultProps",{onSubmit:()=>{}}),i(d,"contextType",v);d.__docgenInfo={description:"",methods:[],displayName:"Elements",props:{onSubmit:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Called when a user presses the <kbd>enter</kbd> key while\nfocused on any descendant `*Element`."}}};var b=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function A(a,r){return!!(a===r||b(a)&&b(r))}function C(a,r){if(a.length!==r.length)return!1;for(var e=0;e<a.length;e++)if(!A(a[e],r[e]))return!1;return!0}function V(a,r){r===void 0&&(r=C);var e=null;function n(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(e&&e.lastThis===this&&r(o,e.lastArgs))return e.lastResult;var c=a.apply(this,o);return e={lastResult:c,lastArgs:o,lastThis:this},c}return n.clear=function(){e=null},n}const h=()=>{},_=a=>{const{id:r,className:e,onChange:n,onBlur:o,onFocus:s,onReady:c,onSubmit:P,...k}=a;return k};class y extends u.PureComponent{constructor(e,n){super(e,n);i(this,"configureElement",V((e,n)=>e&&Object.keys(n).length>0&&e.configure(n)));const{elementClassName:o}=this.constructor;if(!n||!n.elements)throw new Error(`<${o}> must be within an <Elements> tree.`);this._container=u.createRef()}componentDidMount(){const{elementClassName:e}=this.constructor,n=_(this.props),o=this._element=this.context.elements[e](n);o.on("attach",(...s)=>this.props.onReady(...s)),o.on("change",(...s)=>this.props.onChange(...s)),o.on("blur",(...s)=>this.props.onBlur(...s)),o.on("focus",(...s)=>this.props.onFocus(...s)),o.on("submit",(...s)=>this.props.onSubmit(...s)),this._element.attach(this._container.current)}componentWillUnmount(){this._element.destroy()}render(){const{_element:e,props:n}=this;return this.configureElement(e,_(n)),f("div",{id:n.id,className:n.className,ref:this._container})}}i(y,"propTypes",{id:t.string,className:t.string,onChange:t.func,onBlur:t.func,onFocus:t.func,onReady:t.func,onSubmit:t.func,style:t.object,tabIndex:t.string}),i(y,"defaultProps",{id:void 0,className:void 0,onChange:e=>{},onBlur:h,onFocus:h,onReady:h,onSubmit:h,style:{},tabIndex:void 0}),i(y,"contextType",R);y.__docgenInfo={description:`An [Element](https://developers.recurly.com/reference/recurly-js/#elements)
component which wraps its Recurly.js analogue, passing configuration props to the underlying
Recurly.js Element and allowing event binding using props.`,methods:[],displayName:"Element",props:{id:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:"Applied to the container."},className:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:"Applied to the container."},onChange:{defaultValue:{value:"state => {}",computed:!1},type:{name:"func"},required:!1,description:"Called when the state of the Element changes."},onBlur:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Called when a user blurs from the Element."},onFocus:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Called when a user focuses on the Element."},onReady:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Called when the Element has finished initializing."},onSubmit:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Called when a user presses the <kbd>enter</kbd> key while focused on the Element."},style:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:`Set style attributes for the Element.
See [Styling Elements](https://developers.recurly.com/reference/recurly-js/#styling-elements)
for available options.`},tabIndex:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:`[tabindex](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex)
property to be applied to the outer iframe.`}}};const q=["kount"];class p extends u.Component{constructor(r,e){if(super(r,e),!e||!e.recurly)throw new Error("<RiskDataCollector> must be within a <RecurlyProvider> tree.");this._container=u.createRef(),this._recurly=this.context.recurly}componentDidMount(){const{_container:r,_recurly:e}=this,{strategy:n,onError:o}=this.props;e.configure({fraud:{[n]:{dataCollector:!0,form:r.current}}}),(this._fraud=e.fraud).on("error",(...c)=>o(...c))}render(){return f("div",{id:this.props.id,className:this.props.className,ref:this._container})}}i(p,"propTypes",{id:t.string,className:t.string,strategy:t.oneOf(q),onError:t.func}),i(p,"defaultProps",{id:void 0,className:void 0,strategy:q[0],onError:r=>{throw r}}),i(p,"contextType",v);p.__docgenInfo={description:`Injects risk data collection point in your checkout.

<https://docs.recurly.com/docs/kount>`,methods:[],displayName:"RiskDataCollector",props:{id:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:"Applied to the container."},className:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:"Applied to the container."},strategy:{defaultValue:{value:"RISK_STRATEGIES[0]",computed:!0},type:{name:"enum",value:[{value:"'kount'",computed:!1}]},required:!1,description:`Risk data collection strategy.

Possible values: 'kount'`},onError:{defaultValue:{value:"e => { throw e }",computed:!1},type:{name:"func"},required:!1,description:`@callback FraudDataCollector~onError
@param {RecurlyError}`}}};class m extends u.PureComponent{constructor(r,e){if(super(r,e),!e||!e.recurly)throw new Error("<ThreeDSecureAction> must be within a <RecurlyProvider> tree.");const{actionTokenId:n}=r;this._container=u.createRef(),this._risk=this.context.recurly.Risk(),this._threeDSecure=this._risk.ThreeDSecure({actionTokenId:n}),this._threeDSecure.on("token",(...o)=>this.props.onToken(...o)),this._threeDSecure.on("error",(...o)=>this.props.onError(...o))}componentDidMount(){this._threeDSecure.attach(this._container.current)}render(){return f("div",{id:this.props.id,className:this.props.className,ref:this._container})}}i(m,"propTypes",{id:t.string,className:t.string,actionTokenId:t.string,onToken:t.func,onError:t.func}),i(m,"defaultProps",{id:void 0,className:void 0,actionTokenId:"",onToken:()=>{},onError:r=>{throw r}}),i(m,"contextType",v);m.__docgenInfo={description:"",methods:[],displayName:"ThreeDSecureAction",props:{id:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:"Applied to the container."},className:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:"Applied to the container."},actionTokenId:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:"`three_d_secure_action_token_id` returned by the Recurly API when 3-D Secure\nauthentication is required for a transaction."},onToken:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:`@callback ThreeDSecureAction~onToken
@param {ThreeDSecureActionResultToken}`},onError:{defaultValue:{value:"e => { throw e }",computed:!1},type:{name:"func"},required:!1,description:`@callback ThreeDSecureAction~onError
@param {RecurlyError}`}}};l.__docgenInfo={description:"This is the top-level component for `react-recurly`, and must wrap any other\n`react-recurly` component you will use. It is responsible for creating a `Recurly.js`\ninstance for any descendant components to interact with.\n\nThis component accepts your `publicKey` and other configuration options for Recurly.js as props.",methods:[],displayName:"RecurlyProvider",props:{publicKey:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:`Your Recurly public key. See
[API Access](https://app.recurly.com/go/developer/api_access).`},hostname:{type:{name:"string"},required:!1,description:"Register the current hostname"},currency:{type:{name:"string"},required:!1,description:"Sets a default currency"},required:{type:{name:"arrayOf",value:{name:"string"}},required:!1,description:"Adds additional field requirements for tokenization. ex: ['cvv']"},timeout:{type:{name:"number"},required:!1,description:"API request timeout in ms"},fraud:{type:{name:"shape",value:{kount:{name:"shape",value:{dataCollector:{name:"bool",required:!1}},required:!1},braintree:{name:"shape",value:{deviceData:{name:"string",required:!1}},required:!1},litle:{name:"shape",value:{sessionId:{name:"string",required:!1}},required:!1}}},required:!1,description:`Fraud configuration. See the
[Recurly-js docs on fraud configuration](https://developers.recurly.com/reference/recurly-js/index.html#fraud)`}}};d.__docgenInfo={description:"",methods:[],displayName:"Elements",props:{onSubmit:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Called when a user presses the <kbd>enter</kbd> key while\nfocused on any descendant `*Element`."}}};p.__docgenInfo={description:`Injects risk data collection point in your checkout.

<https://docs.recurly.com/docs/kount>`,methods:[],displayName:"RiskDataCollector",props:{id:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:"Applied to the container."},className:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:"Applied to the container."},strategy:{defaultValue:{value:"RISK_STRATEGIES[0]",computed:!0},type:{name:"enum",value:[{value:"'kount'",computed:!1}]},required:!1,description:`Risk data collection strategy.

Possible values: 'kount'`},onError:{defaultValue:{value:"e => { throw e }",computed:!1},type:{name:"func"},required:!1,description:`@callback FraudDataCollector~onError
@param {RecurlyError}`}}};m.__docgenInfo={description:"",methods:[],displayName:"ThreeDSecureAction",props:{id:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:"Applied to the container."},className:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:"Applied to the container."},actionTokenId:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:"`three_d_secure_action_token_id` returned by the Recurly API when 3-D Secure\nauthentication is required for a transaction."},onToken:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:`@callback ThreeDSecureAction~onToken
@param {ThreeDSecureActionResultToken}`},onError:{defaultValue:{value:"e => { throw e }",computed:!1},type:{name:"func"},required:!1,description:`@callback ThreeDSecureAction~onError
@param {RecurlyError}`}}};export{d as E,l as R,m as T,p as a,y as b};
//# sourceMappingURL=index-95c2f079.js.map
